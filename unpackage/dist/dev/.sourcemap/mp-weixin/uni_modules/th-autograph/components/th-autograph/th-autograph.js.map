{"version":3,"sources":["webpack:///D:/我的文档/Documents/项目/uniapp/Emovision-uniapp/Emovision-uniapp/uni_modules/th-autograph/components/th-autograph/th-autograph.vue?e9fe","webpack:///D:/我的文档/Documents/项目/uniapp/Emovision-uniapp/Emovision-uniapp/uni_modules/th-autograph/components/th-autograph/th-autograph.vue?79a8","webpack:///D:/我的文档/Documents/项目/uniapp/Emovision-uniapp/Emovision-uniapp/uni_modules/th-autograph/components/th-autograph/th-autograph.vue?e606","webpack:///D:/我的文档/Documents/项目/uniapp/Emovision-uniapp/Emovision-uniapp/uni_modules/th-autograph/components/th-autograph/th-autograph.vue?dfd4","uni-app:///uni_modules/th-autograph/components/th-autograph/th-autograph.vue","webpack:///D:/我的文档/Documents/项目/uniapp/Emovision-uniapp/Emovision-uniapp/uni_modules/th-autograph/components/th-autograph/th-autograph.vue?297f","webpack:///D:/我的文档/Documents/项目/uniapp/Emovision-uniapp/Emovision-uniapp/uni_modules/th-autograph/components/th-autograph/th-autograph.vue?5ad6"],"names":["props","canvasId","type","default","actionBar","isDownload","horizontalScreen","fileName","delineColor","delineWidth","data","context","actionShow","history","lineColor","lineWidth","canvasShow","bottomHeight","components","thColor","thLine","mounted","methods","getIphoneBottom","uni","success","judge","openAction","setColor","setLine","checkAction","saveCanvas","tempFilePath","filePath","resolve","fail","reject","canvasToFilPath","goBack","item","color","width","clear","canvasStart","event","x","y","style","coordinates","canvasMove","e","drawGraphics","startPoint","endPoint"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACsC;;;AAGjG;AACmM;AACnM,gBAAgB,2LAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnCA;AAAA;AAAA;AAAA;AAAywB,CAAgB,4rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBCwC7xB;EACAA;IACA;IACAC;MACAC;MACAC;IACA;IACA;IACAC;MACAF;MACAC;QACA,QACA,UACA,SACA,QACA,QACA;MACA;IACA;IACA;IACAE;MACAH;MACAC;IACA;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;IACA;IACA;IACAK;MACAN;MACAC;IACA;IACA;IACAM;MACAP;MACAC;IACA;EACA;EACAO;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;IACAC;EACA;EACAC;IAEA;IAEA;IACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACA;gBAAA,iCACA;cAAA;gBAAA,iCAEA;kBAeAR;oBACAS;oBACAR;sBACA;sBACAS;oBACA;oBACAC;sBACA;sBACAC;oBACA;kBACA;gBAEA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;IACAC;MAAA;MAAA;MACA;QACAb;UACAvB;UACAwB;YACAS;UACA;UACAC;YACAC;UACA;QACA;MACA;IACA;IACA;IACAE;MAAA;MACA;MACA;MACA;QACA,kBAGAC;UAFAC;UACAC;QAEA;QACA;QACA;QACA;QACA;UACAF;YACA;cACA;YACA;cACA;YACA;UACA;QACA;UACA;UACA;UACA;QACA;QACA;MACA;MACA;IACA;IACA;IACAG;MACA;MACA;IACA;IACAC;MACA,sBAGAC;QAFAC;QACAC;MAEA;QACAC;UACAP;UACAC;QACA;QACAO;UACA9C;UACA2C;UACAC;QACA;MACA;MACA;IACA;IACAG;MACA;MACA,kBAGAC;QAFAL;QACAC;MAEA;QACA5C;QACA2C;QACAC;MACA;MACA;IACA;IACA;IACAK;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;QACAC;UACAR;UACAC;QACA;MACA;QACAM;QACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AChSA;AAAA;AAAA;AAAA;AAA48C,CAAgB,2vCAAG,EAAC,C;;;;;;;;;;;ACAh+C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/th-autograph/components/th-autograph/th-autograph.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./th-autograph.vue?vue&type=template&id=1f7db78a&scoped=true&\"\nvar renderjs\nimport script from \"./th-autograph.vue?vue&type=script&lang=js&\"\nexport * from \"./th-autograph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./th-autograph.vue?vue&type=style&index=0&id=1f7db78a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f7db78a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/th-autograph/components/th-autograph/th-autograph.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./th-autograph.vue?vue&type=template&id=1f7db78a&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.history.length\n  var m0 = _vm.judge(\"pencli\")\n  var m1 = _vm.judge(\"color\")\n  var m2 = _vm.judge(\"back\")\n  var m3 = _vm.judge(\"clear\")\n  var g1 = _vm.actionBar.length\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.canvasShow = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.canvasShow = true\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./th-autograph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./th-autograph.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"autograph-box\" :style=\"{'padding-bottom': bottomHeight + 'px'}\">\r\n\t\t<canvas class=\"autograph\" v-show=\"canvasShow\" :class=\"{'hidden': !canvasShow}\" :canvas-id=\"canvasId\"\r\n\t\t\t:id=\"canvasId\" @touchstart=\"canvasStart($event)\" @touchmove=\"canvasMove($event)\">\r\n\t\t\t<view v-if=\"history.length==0\" :class=\"['default-text',horizontalScreen?'rote-text':'']\">绘制区域</view>\r\n\t\t</canvas>\r\n\t\t<view v-show=\"!canvasShow\" class=\"autograph\" :class=\"{'hidden': canvasShow, 'rote-text': horizontalScreen }\">配置中\r\n\t\t</view>\r\n\t\t<view :class=\"['action-box',horizontalScreen?'rote-action':'']\">\r\n\t\t\t<view class=\"action-bar\">\r\n\t\t\t\t<view :class=\"[actionShow?'action-open':'action-close']\">\r\n\t\t\t\t\t<image src=\"../../static/th-autograph/pencli.svg\" @click=\"openAction('thLine')\"\r\n\t\t\t\t\t\tv-if=\"judge('pencli')\"></image>\r\n\t\t\t\t\t<image src=\"../../static/th-autograph/color.svg\" @click=\"openAction('thColor')\"\r\n\t\t\t\t\t\tv-if=\"judge('color')\"></image>\r\n\t\t\t\t\t<image src=\"../../static/th-autograph/back.svg\" @click=\"goBack\" v-if=\"judge('back')\"></image>\r\n\t\t\t\t\t<image src=\"../../static/th-autograph/clear.svg\" @click=\"clear\" v-if=\"judge('clear')\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<image src=\"../../static/th-autograph/checkRow.png\" @click=\"checkAction\" v-if=\"actionBar.length!=0\"\r\n\t\t\t\t\t:class=\"[actionShow?'roteRight':'roteLeft']\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"th-submit\" @click=\"saveCanvas\" hover-class=\"hover-class\">确定</view>\r\n\t\t</view>\r\n\t\t<th-color ref=\"thColor\" @setColor=\"setColor\" @closePop=\"canvasShow = true\"></th-color>\r\n\t\t<th-line ref=\"thLine\" @setLine=\"setLine\" @closePop=\"canvasShow = true\"></th-line>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * @property {Array} actionBar 操作按钮配置 pencli(线条)  color(颜色)  back(返回)  clear(清空)\r\n\t * @property {String} canvasId CanvasId\r\n\t * @property {Boolean} isDownload 是否下载签名\r\n\t * @property {Boolean} horizontalScreen 是否横屏\r\n\t * @property {String} fileName 文件名称\r\n\t * @property {String} delineColor 线颜色\r\n\t * @property {Number} delineWidth 线宽度\r\n\t **/\r\n\timport thColor from \"./th-color.vue\"\r\n\timport thLine from \"./th-line.vue\"\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\t//canvasId\r\n\t\t\tcanvasId: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: `th-${Date.now()}`\r\n\t\t\t},\r\n\t\t\t//配置栏\r\n\t\t\tactionBar: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\t'pencli',\r\n\t\t\t\t\t\t'color',\r\n\t\t\t\t\t\t'back',\r\n\t\t\t\t\t\t'clear'\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//是否下载签名\r\n\t\t\tisDownload: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\t//是否横屏\r\n\t\t\thorizontalScreen: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t//文件名称\r\n\t\t\tfileName: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '签名'\r\n\t\t\t},\r\n\t\t\t//线颜色\r\n\t\t\tdelineColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#000'\r\n\t\t\t},\r\n\t\t\t//线宽度\r\n\t\t\tdelineWidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 4\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcontext: \"\",\r\n\t\t\t\tactionShow: true,\r\n\t\t\t\thistory: [],\r\n\t\t\t\tlineColor: \"#000\",\r\n\t\t\t\tlineWidth: 4,\r\n\t\t\t\tcanvasShow: true,\r\n\t\t\t\tbottomHeight: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tthColor,\r\n\t\t\tthLine\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tthis.getIphoneBottom()\r\n\t\t\t// #endif\r\n\t\t\tthis.lineColor = this.delineColor\r\n\t\t\tthis.lineWidth = this.delineWidth\r\n\t\t\tconst ctx = uni.createCanvasContext(this.canvasId, this)\r\n\t\t\tthis.context = ctx;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetIphoneBottom() {\r\n\t\t\t\tuni.getSystemInfo({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconst bottom = res.screenHeight - res.safeArea.bottom;\r\n\t\t\t\t\t\tthis.bottomHeight = bottom > 0 ? bottom - 10 : bottom\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//操作栏显示控制\r\n\t\t\tjudge(key) {\r\n\t\t\t\tif (this.actionBar.includes(key)) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//打开选择器\r\n\t\t\topenAction(ref) {\r\n\t\t\t\tthis.canvasShow = false\r\n\t\t\t\tthis.$refs[ref].checkModel()\r\n\t\t\t},\r\n\t\t\t//设置颜色\r\n\t\t\tsetColor(color) {\r\n\t\t\t\tthis.lineColor = color;\r\n\t\t\t},\r\n\t\t\t//设置线条\r\n\t\t\tsetLine(width) {\r\n\t\t\t\tthis.lineWidth = width;\r\n\t\t\t},\r\n\t\t\t//切换控制栏\r\n\t\t\tcheckAction() {\r\n\t\t\t\tthis.actionShow = !this.actionShow\r\n\t\t\t},\r\n\t\t\t//保存\r\n\t\t\tasync saveCanvas() {\r\n\t\t\t\tconst tempFilePath = await this.canvasToFilPath()\r\n\t\t\t\tif (!this.isDownload) {\r\n\t\t\t\t\tthis.$emit('submit', tempFilePath)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst a = document.createElement('a')\r\n\t\t\t\t\t\ta.href = tempFilePath\r\n\t\t\t\t\t\ta.download = this.fileName\r\n\t\t\t\t\t\tdocument.body.appendChild(a)\r\n\t\t\t\t\t\ta.click()\r\n\t\t\t\t\t\ta.remove()\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\treject(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifndef H5\r\n\t\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\t\tfilePath: tempFilePath,\r\n\t\t\t\t\t\tsuccess(resObj) {\r\n\t\t\t\t\t\t\tthis.$emit('submit', tempFilePath)\r\n\t\t\t\t\t\t\tresolve(resObj)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tthis.$emit('dowmloadErr', err)\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 保存临时路径\r\n\t\t\tcanvasToFilPath(conf = {}) {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\tcanvasId: this.canvasId,\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tresolve(res.tempFilePath)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, this)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//撤回\r\n\t\t\tgoBack() {\r\n\t\t\t\tthis.context.draw()\r\n\t\t\t\tthis.history.pop();\r\n\t\t\t\tthis.history.forEach((item, index) => {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tcolor,\r\n\t\t\t\t\t\twidth\r\n\t\t\t\t\t} = item.style\r\n\t\t\t\t\tthis.context.beginPath()\r\n\t\t\t\t\tthis.context.setLineCap('round')\r\n\t\t\t\t\tthis.context.setStrokeStyle(color)\r\n\t\t\t\t\tthis.context.setLineWidth(width)\r\n\t\t\t\t\tif (item.coordinates.length >= 2) {\r\n\t\t\t\t\t\titem.coordinates.forEach(it => {\r\n\t\t\t\t\t\t\tif (it.type == 'touchstart') {\r\n\t\t\t\t\t\t\t\tthis.context.moveTo(it.x, it.y)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.context.lineTo(it.x, it.y)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst point = item.coordinates[0]\r\n\t\t\t\t\t\tthis.context.moveTo(point.x, point.y)\r\n\t\t\t\t\t\tthis.context.lineTo(point.x + 1, point.y)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.context.stroke()\r\n\t\t\t\t})\r\n\t\t\t\tthis.context.draw(true)\r\n\t\t\t},\r\n\t\t\t//清空画布\r\n\t\t\tclear() {\r\n\t\t\t\tthis.history = [];\r\n\t\t\t\tthis.context.draw()\r\n\t\t\t},\r\n\t\t\tcanvasStart(event) {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tx,\r\n\t\t\t\t\ty\r\n\t\t\t\t} = event.touches[0]\r\n\t\t\t\tthis.history.push({\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\tcolor: this.lineColor,\r\n\t\t\t\t\t\twidth: this.lineWidth\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcoordinates: [{\r\n\t\t\t\t\t\ttype: event.type,\r\n\t\t\t\t\t\tx: x,\r\n\t\t\t\t\t\ty: y\r\n\t\t\t\t\t}]\r\n\t\t\t\t})\r\n\t\t\t\tthis.drawGraphics()\r\n\t\t\t},\r\n\t\t\tcanvasMove(e) {\r\n\t\t\t\t// e.preventDefault()\r\n\t\t\t\tlet {\r\n\t\t\t\t\tx,\r\n\t\t\t\t\ty\r\n\t\t\t\t} = e.touches[0]\r\n\t\t\t\tthis.history[this.history.length - 1].coordinates.push({\r\n\t\t\t\t\ttype: e.type,\r\n\t\t\t\t\tx: x,\r\n\t\t\t\t\ty: y\r\n\t\t\t\t})\r\n\t\t\t\tthis.drawGraphics()\r\n\t\t\t},\r\n\t\t\t//绘制\r\n\t\t\tdrawGraphics() {\r\n\t\t\t\tlet historyLen = this.history.length\r\n\t\t\t\tif (!historyLen) return\r\n\t\t\t\tlet currentData = this.history[historyLen - 1]\r\n\t\t\t\tlet coordinates = currentData.coordinates\r\n\t\t\t\tif (!coordinates.length) return\r\n\t\t\t\tlet startPoint, endPoint;\r\n\t\t\t\tif (coordinates.length < 2) {\r\n\t\t\t\t\tstartPoint = coordinates[coordinates.length - 1]\r\n\t\t\t\t\tendPoint = {\r\n\t\t\t\t\t\tx: startPoint.x + 1,\r\n\t\t\t\t\t\ty: startPoint.y\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstartPoint = coordinates[coordinates.length - 2]\r\n\t\t\t\t\tendPoint = coordinates[coordinates.length - 1]\r\n\t\t\t\t}\r\n\t\t\t\tlet style = currentData.style\r\n\t\t\t\tthis.context.beginPath()\r\n\t\t\t\tthis.context.setLineCap('round')\r\n\t\t\t\tthis.context.setStrokeStyle(style.color)\r\n\t\t\t\tthis.context.setLineWidth(style.width)\r\n\t\t\t\tthis.context.moveTo(startPoint.x, startPoint.y)\r\n\t\t\t\tthis.context.lineTo(endPoint.x, endPoint.y)\r\n\t\t\t\tthis.context.stroke()\r\n\t\t\t\tthis.context.draw(true)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.hidden {\r\n\t\theight: 0 !important;\r\n\t\toverflow: hidden;\r\n\t\tborder: 0 !important;\r\n\t}\r\n\r\n\t.autograph {\r\n\t\twidth: 100%;\r\n\t\theight: 92%;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder: 1px dashed #ccc;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 38upx;\r\n\t\tcolor: #C0C0C0;\r\n\t}\r\n\r\n\t.config {\r\n\t\twidth: 100%;\r\n\t\theight: 92%;\r\n\t\tbackground-color: red;\r\n\t}\r\n\r\n\t.horizontalScreen {\r\n\t\tleft: -150upx !important;\r\n\t\tbottom: 0 !important;\r\n\t\tright: auto !important;\r\n\t\ttransform: rotate(90deg);\r\n\t\ttransform-origin: bottom right;\r\n\t}\r\n\r\n\t.rote-text {\r\n\t\ttransform: rotate(90deg);\r\n\t}\r\n\r\n\t.rote-action {\r\n\t\ttransform: rotate(180deg);\r\n\t\tpadding-top: 0 !important;\r\n\r\n\t\t.th-submit {\r\n\t\t\ttransform: rotate(-90deg);\r\n\t\t\twidth: 120upx !important;\r\n\t\t\theight: 100% !important;\r\n\t\t}\r\n\t}\r\n\r\n\t.action-box {\r\n\t\theight: 8%;\r\n\t\tz-index: 50;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: flex-end;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding-top: 20upx;\r\n\t}\r\n\r\n\t.th-submit {\r\n\t\twidth: 150upx;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #5667F5;\r\n\t\tborder-radius: 50upx 0 0 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 30upx;\r\n\t\ttransition: all 0.3s;\r\n\t}\r\n\r\n\t.action-bar {\r\n\t\tmargin-right: 35upx;\r\n\t\talign-items: center;\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t\talign-items: center;\r\n\r\n\t\timage {\r\n\t\t\twidth: 35upx;\r\n\t\t\theight: 35upx;\r\n\t\t}\r\n\r\n\t\t>image {\r\n\t\t\ttransition: all 0.3s;\r\n\t\t}\r\n\r\n\t\t>view {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 40upx;\r\n\t\t\t\theight: 40upx;\r\n\t\t\t\tmargin-right: 60upx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.autograph-box {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.default-text {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tz-index: -1;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 38upx;\r\n\t\t\tcolor: #C0C0C0;\r\n\t\t\tletter-spacing: 5upx;\r\n\t\t}\r\n\t}\r\n\r\n\t.roteRight {\r\n\t\ttransform: rotate(136deg);\r\n\t}\r\n\r\n\t.roteLeft {\r\n\t\ttransform: rotate(0deg);\r\n\t}\r\n\r\n\t.action-open {\r\n\t\tanimation: bounceIn 1s;\r\n\t}\r\n\r\n\t.action-close {\r\n\t\tanimation: bounceOut 0.5s forwards;\r\n\t}\r\n\r\n\t@keyframes bounceIn {\r\n\r\n\t\t0%,\r\n\t\t20%,\r\n\t\t40%,\r\n\t\t60%,\r\n\t\t80%,\r\n\t\tto {\r\n\t\t\t-webkit-animation-timing-function: cubic-bezier(.215, .61, .355, 1);\r\n\t\t\tanimation-timing-function: cubic-bezier(.215, .61, .355, 1)\r\n\t\t}\r\n\r\n\t\t0% {\r\n\t\t\topacity: 0;\r\n\t\t\t-webkit-transform: scale3d(.3, .3, .3);\r\n\t\t\ttransform: scale3d(.3, .3, .3)\r\n\t\t}\r\n\r\n\t\t20% {\r\n\t\t\t-webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n\t\t\ttransform: scale3d(1.1, 1.1, 1.1)\r\n\t\t}\r\n\r\n\t\t40% {\r\n\t\t\t-webkit-transform: scale3d(.9, .9, .9);\r\n\t\t\ttransform: scale3d(.9, .9, .9)\r\n\t\t}\r\n\r\n\t\t60% {\r\n\t\t\topacity: 1;\r\n\t\t\t-webkit-transform: scale3d(1.03, 1.03, 1.03);\r\n\t\t\ttransform: scale3d(1.03, 1.03, 1.03)\r\n\t\t}\r\n\r\n\t\t80% {\r\n\t\t\t-webkit-transform: scale3d(.97, .97, .97);\r\n\t\t\ttransform: scale3d(.97, .97, .97)\r\n\t\t}\r\n\r\n\t\tto {\r\n\t\t\topacity: 1;\r\n\t\t\t-webkit-transform: scaleX(1);\r\n\t\t\ttransform: scaleX(1)\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes bounceOut {\r\n\t\t20% {\r\n\t\t\t-webkit-transform: scale3d(.9, .9, .9);\r\n\t\t\ttransform: scale3d(.9, .9, .9)\r\n\t\t}\r\n\r\n\t\t50%,\r\n\t\t55% {\r\n\t\t\topacity: 1;\r\n\t\t\t-webkit-transform: scale3d(1.1, 1.1, 1.1);\r\n\t\t\ttransform: scale3d(1.1, 1.1, 1.1)\r\n\t\t}\r\n\r\n\t\tto {\r\n\t\t\topacity: 0;\r\n\t\t\t-webkit-transform: scale3d(.3, .3, .3);\r\n\t\t\ttransform: scale3d(.3, .3, .3);\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n\r\n\t.hover-class {\r\n\t\topacity: 0.6;\r\n\t}\r\n</style>","import mod from \"-!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./th-autograph.vue?vue&type=style&index=0&id=1f7db78a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./th-autograph.vue?vue&type=style&index=0&id=1f7db78a&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1731471870176\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}